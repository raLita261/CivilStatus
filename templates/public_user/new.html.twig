{% extends 'base.html.twig' %}

{% block title %}New PublicUser
{% endblock %}

{% block javascripts %}
	<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
	<script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
	<script src="https://cdn.datatables.net/1.10.24/js/dataTables.bootstrap4.min.js"></script>
	<script>
		$(document).ready(function () {
$('#example').DataTable();
$(".dead").hide();
$("#public_user_isAlive").change(function () {
if ($(this).val() == 1) {
$(".dead").hide();
} else {
$(".dead").show();
}
});

$('.datepicker').datepicker()

});
	</script>

{% endblock %}

{% block stylesheets %}
	<style>
		label {
			color: black !important;
		}
		.birthDetails {
			display: flex;
			flex-direction: column;
			align-items: center;
		}
	</style>
{% endblock %}

{% block body %}
	<div class="container" style="margin-top:150px">
		<div class="row justify-content-center">
			<h3>Create new PublicUser</h3>
		</div>
		<div class="row justify-content-center">
			{{ form_start(form) }}

			<div class="form-group">
				<label for="exampleInputEmail1">First Name</label>
				{{ form_widget(form.FName,{'attr':{'class':'form-control'}}) }}

			</div>

			<div class="form-group">
				<label for="exampleInputEmail1">Last Name</label>
				{{ form_widget(form.LName,{'attr':{'class':'form-control'}}) }}

			</div>


			<div class="form-group">
				<label for="exampleInputEmail1">Date of Birth</label>
				{{ form_widget(form.DoB,{'attr':{'class':'datepicker'}}) }}

			</div>

			<div class="form-group">
				<label for="exampleInputEmail1">Place of Birth</label>
				{{ form_widget(form.placeOfBirth,{'attr':{'class':'form-control'}}) }}

			</div>


			<label>Is Alive</label>
			{{ form_widget(form.isAlive) }}
			<div class="dead">
				<label>Death Details</label>
				{{ form_widget(form.DoD) }}
			</div>

			{# table parent #}
			<div class="birthDetails">
				<table id="example" class="table table-striped table-bordered" style="width:100%">
					<thead>
						<tr>
							<th>ID</th>
							<th>Last Name</th>
							<th>First Name</th>
							<th>Occupation</th>
							<th>Address</th>
							<th>Gender</th>
						</tr>
					</thead>
					<tbody>
						{% for parent in allParentUser %}
							<tr>
								<td>{{parent.id}}</td>
								<td>{{parent.LastName}}</td>
								<td>{{parent.FirstName}}</td>
								<td>{{parent.Occupation}}</td>
								<td>{{parent.Address}}</td>
								<td>
									{% if parent.Gender == true %}
										Male
									{% else %}
										Female
									{% endif %}
								</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>


				<a class="btn btn-info" href="{{ path('parent_user_new') }}">Add New Parent Info</a>
				<div>
					<label>Father</label>
					{{ form_widget(form.father) }}

					<label>Mother</label>
					{{ form_widget(form.mother) }}
				</div>

				<button type = "Submit" class="btn btn-success">Save new Person Birth</button>
				{{ form_end(form) }}
			</div>


		</div>
		<div class="row justify-content-center">
			<a class="btn btn-info" href="{{ path('public_user_index') }}">back to list</a>

		</div>
	</div>

{% endblock %}
